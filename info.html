<!doctype html>
<html>
<head>
  <title> Exposure Time Calculator Information Panel </title>
  <link href="css/info.css" rel="stylesheet" type="text/css">
  <script src="css/BlackTie/external/jquery/jquery.js"></script>
  <script src="css/BlackTie/jquery-ui.js"></script>
  <script src="js/expcalc.js"></script>

  <script language="javascript">
    var selectedInstrument = "none";

    $(document).ready(function()
    {
      SelectNone();
      ClearFocus();
      ClearAll();
      ShowInstrument();
    });

    //Hide any focused items
    function ClearFocus()
    {
      $("#blue_gratings").hide();
      $("#red_gratings").hide();
      $("#aperture").hide();
    }

    //Hide everything
    function ClearAll()
    {
      $("#instrument").hide();
      $("#output").hide();
      $("#red_gratings").hide();
      $("#blue_gratings").hide();
      $("#aperture").hide();
      $("#signal_to_noise").hide();
      ClearFocus();

    }

    //Show that no instrument is selected and update accordingly
    function SelectNone()
    {
      $("#blue_light").hide();
      $("#blue_select").hide();
      $("#red_light").hide();
      $("#red_select").hide();
      selectedInstrument = "none";
    }

    //Triggered if Red is selected
    function SelectRed()
    {
      ClearFocus();
      $("#blue_light").hide();
      $("#blue_select").hide();
      $("#red_light").fadeIn('slow');
      selectedInstrument = "red";
    }

    //Triggered if Blue is selected
    function SelectBlue()
    {
      ClearFocus()
      $("#blue_light").fadeIn("slow");
      $("#red_light").hide();
      $("#red_select").hide();
      selectedInstrument = "blue";
    }

    //Bring in the selected Instrument
    function ShowInstrument()
    {
      ClearAll();
      $("#instrument").fadeIn();
    }

    //Show the output parameters
    function ShowOutputHelp()
    {
      ClearAll();
      $("#output").fadeIn();
    }

    //Show the signal to noise infographic
    function ShowSignalNoise()
    { 
      debug( "show signal-to-noise" );
      ClearAll();
      $("#signal_to_noise").fadeIn();
    }

    //Generic content tool when I have nothing to add at this point
    function debug( message )
    {
      $("#debug").html( message );
    }

    function ClearFocus()
    {
      $("#blue_gratings").hide();
      $("#red_gratings").hide();
      $("#aperture").hide();
    }


    //Show the relevant table of grating information
    function ShowGrating()
    {
      ClearAll();
      console.log(selectedInstrument);
      switch( selectedInstrument )
      {
        case "red":
          debug( "showing red grating" );
          $("#red_gratings").fadeIn();
          break;
        case "blue":
          debug( "showing blue grating" );
          $("#blue_gratings").fadeIn();
          break;
        default:
          debug( "error setting grating." );
          break;

      }
    }

</script>
</head>

<body>
  <div id="step_1">
    <div  id="instrument">
      <h2> Selected Instrument </h2>
      <img id="main_instrument" src="images/instrument/main.png" alt="Red Blue Channel Diagram" width="400" height="347">
      <img id="blue_light" src="images/instrument/blue_light.png" width="400" height="347">
      <img id="blue_select" src="images/instrument/blue_select.png" width="400" height="347">
      <img id="red_light" src="images/instrument/red_light.png" width="400" height="347">
      <img id="red_select" src="images/instrument/red_select.png" width="400" height="347">
      <img id="blue_grating" src="images/instrument/blue_grating.png" width="400" height="347">
      <img id="red_grating" src="images/instrument/red_grating.png" width="400" height="347">

    </div>
  </div>

  <div id="output">
    <h2> Calculation Output </h2>
    <p> Would you like to calculation the <strong> Integration Time </strong>
      (given a desired signal-to-noise ratio) or the <strong> Signal-to-Noise Ratio
      </strong> for an observation of a given exposure time?</p>

    <p><strong>Integration Time </strong> is the optimal observation time for an
      exposure based on the parameters you provide in the next step. </p>
    <p><strong> Signal-to-Noise Ratio </strong> is the quality the spectrum will
      obtain based on the parameters you provie and a fixed exposure time. </p>
  </div>

  <div id="signal_to_noise">
    <h2>Signal-to-Noise</h2>
    <p>
    Enter the desired <strong> signal-to-noise</strong> value that you wish your exposure to reach. The convention of this calculator is the signal-to-noise per extracted pixel (summed across the spatial direction for a point source).
  </div> 

  <div id="red_gratings">
    <h2> Red Channel Gratings: </h2>
    <p>
  
    <table id="one-column-emphasis" class=>
      <colgroup>
        <col class='oce-first'>
      </colgroup>

      </th>
        <td> Grating (lines/mm) </td>
        <td> Blaze (order/ &lambda; &Aring;) </td>
        <td> R (@ Blaze, 1" slit) </td>
        <td> Dispersion (&Aring;) </td>
        <td> Resolution (&Aring;) </td>
        <td> Coverage (&Aring;) </td> 
      </th>
      <tr>
        <td> 150 </td>
        <td> 1st / 4800 </td>
        <td> 230 </td>
        <td> 21.0 </td>
        <td> 6.37 </td>
        <td> 6574 </td> 
      </tr> 
      <tr>
        <td> 270 </td>
        <td> 1st / 7300 </td>
        <td> 640 </td>
        <td> 11.4 </td>
        <td> 3.59 </td>
        <td> 3705 </td>
      </tr>
      <tr>
        <td> 300 </td>
        <td> 1st / 4800 </td>
        <td> 460 </td>
        <td> 10.3 </td>
        <td> 3.21 </td>
        <td> 3313 </td>
      </tr>
      <tr>
        <td> 600 </td>
        <td> 1st / 4800 </td>
        <td> 960 </td>
        <td> 5.0 </td>
        <td> 1.63 </td>
        <td> 1682 </td>
      </tr>
      <tr> 
        <td> 600 </td>
        <td> 1st / 6310 </td>
        <td> 1290 </td>
        <td> 4.90 </td>
        <td> 1.64 </td>
        <td> 1692 </td>
      </tr>
      <tr> 
        <td> 1200 </td>
        <td> 1st / 7700 </td>
        <td> 3930 </td>
        <td> 1.96 </td>
        <td> 0.80 </td>
        <td> 826 </td>
      </tr>
      <tr>
        <td> 1200 </td>
        <td> 1st / 9000 </td>
        <td> 5097 </td>
        <td> 1.77 </td>
        <td> 0.78 </td>
        <td> 805 </td>
      </tr>



      </table>
    </div>

    <div id="blue_gratings">
    <h2> Blue Channel Gratings: </h2>
    <p>
    <table id="one-column-emphasis">
      <colgroup>
        <col class='oce-first'>
      </colgroup>
      <tr>
        <td> Grating (lines/mm) </td>
        <td> Blaze (order/&lambda; &Aring;) </td>
        <td> R (@ Blaze, 1" slit) </td>
        <td> Dispersion (&Aring;) </td>
        <td> Coverage (&Aring;) </td> 
      </tr>
      </table>
    </p>
    </div>

    <div id='aperture'>
    </div>



</body>
</html>
